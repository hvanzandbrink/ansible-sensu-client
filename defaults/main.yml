sensu_client_ip: localhost
sensu_client_gem: /opt/sensu/embedded/bin/gem
sensu_client_github_url_base: https://github.com/{{ sensu_client_github_url_base_infix }}/{{ sensu_client_github_url_base_infix }}-
sensu_client_rabbitmq_host: 127.0.0.1
sensu_client_rabbitmq_port: 5672

sensu_client_checks_metrics_common:
  - cmd: check-cpu
  - cmd: check-disk-usage
    args: cgroup -p '{{ sensu_client_check_disk_ignore_path_regex }}'
    handlers:
      - mailer
  - cmd: check-memory-percent
  - cmd: check-ntp
  - cmd: check-swap-percent
    handlers:
      - mailer
  - cmd: metrics-cpu
    handlers: 
      - relay
  - cmd: metrics-memory-percent
    handlers: 
      - relay
  - cmd: metrics-disk
    handlers: 
      - relay
  - cmd: metrics-disk-usage
    handlers: 
      - relay

sensu_client_checks_metrics_additional:
  - name: google
    cmd: check-http
    url: https://google.com 
    keyword: google
    interval: 300
  - name: software-name
    cmd: check-ports
    port: 234
    interval: 30
    handlers:
      - mailer
      - sms

#http://stackoverflow.com/a/28249672/2777965
sensu_client_checks_metrics: "{{ sensu_client_checks_metrics_common + sensu_client_checks_metrics_additional }}"

sensu_plugin_install:
  - name: cpu-checks
    version: 1.0.0
  - name: disk-checks
    version: 2.0.1
  - name: http
    version: 1.0.0
  - name: memory-checks
    version: 2.0.0
  - name: network-checks
    version: 1.1.0
  - name: ntp
    version: 1.0.0
